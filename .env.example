# ===================================================
# Gommunity Service Configuration (Go)
# ===================================================

# ===================================================
# Server Configuration
# ===================================================
PORT=8080
SERVICE_NAME=gommunity-service
API_PREFIX=/api/v1

# Azure Container Apps Configuration
PUBLIC_IP=
CONTAINER_APP_HOSTNAME=
SERVER_IP=127.0.0.1

# ===================================================
# MongoDB Atlas Configuration
# ===================================================
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority
MONGO_DATABASE=gommunity
MONGO_TIMEOUT=10s

# ===================================================
# JWT Configuration
# ===================================================
JWT_SECRET=your_jwt_secret_key_here_minimum_32_characters

# ===================================================
# Service Discovery Configuration (Eureka)
# ===================================================
SERVICE_DISCOVERY_URL=https://discovery.example.com/eureka/

# ===================================================
# Kafka Configuration (Azure Event Hub)
# ===================================================
# Bootstrap servers: Your Event Hub namespace endpoint
KAFKA_BOOTSTRAP_SERVERS=your-namespace.servicebus.windows.net:9093

# Security protocol (Azure Event Hub requires SASL_SSL)
KAFKA_SECURITY_PROTOCOL=SASL_SSL

# SASL mechanism (Azure Event Hub uses PLAIN)
KAFKA_SASL_MECHANISM=PLAIN

# SASL Username (MUST be exactly this for Azure Event Hub)
KAFKA_SASL_USERNAME=$ConnectionString

# SASL Password (Your FULL Azure Event Hub Connection String)
# Get this from: Azure Portal > Event Hubs Namespace > Shared access policies > Your Policy > Connection String
# Format: Endpoint=sb://NAMESPACE.servicebus.windows.net/;SharedAccessKeyName=POLICY_NAME;SharedAccessKey=YOUR_KEY
KAFKA_SASL_PASSWORD=Endpoint=sb://your-namespace.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=YOUR_KEY_HERE

# Consumer Group ID
KAFKA_GROUP_ID=gommunity-consumer-group

# Topics (Event Hubs that must exist in Azure)
KAFKA_TOPICS=user-registration,profile-updated

# ===================================================
# CORS Configuration
# ===================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=12h

# ===================================================
# IMPORTANT NOTES FOR AZURE EVENT HUB
# ===================================================
#
# 1. Make sure these Event Hubs (topics) exist in your Azure Event Hubs Namespace:
#    - community.registration
#    - community.profile.updated
#
# 2. To create Event Hubs in Azure Portal:
#    - Go to your Event Hubs Namespace
#    - Click "Event Hubs" in the left menu
#    - Click "+ Event Hub" to create new ones
#
# 3. The KAFKA_SASL_PASSWORD is your complete connection string from:
#    Azure Portal > Event Hubs Namespace > Shared access policies > RootManageSharedAccessKey > Primary Connection String
#
# 4. KAFKA_SASL_USERNAME must be exactly: $ConnectionString (including the $ symbol)
#
# 5. If you want to disable Kafka temporarily for testing:
#    - Set KAFKA_BOOTSTRAP_SERVERS to empty or localhost:9092
#    - Or comment out the KAFKA_BOOTSTRAP_SERVERS line
#
